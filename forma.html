<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  
    <link rel="stylesheet" href="forma.css">
</head>
<body>

    <form id="nameSurnameForm" action="/submit" method="post">
        <fieldset border="1" class="custom-fieldset">
            <legend><b>Kuizi i Astronomisë</b></legend>
            <label for="firstName">Emri</label>
            <input type="text" id="firstName" name="firstName"  form="nameSurnameForm" required autocomplete="on" pattern="[A-Za-z]+" title="Vendosni vetëm shkronja"><br><br>
    
            <label for="lastName">Mbiemri</label>
            <input type="text" id="lastName" name="lastName"  form="nameSurnameForm" required pattern="[A-Za-z]+" autocomplete="on" title="Vendosni vetëm shkronja"><br><br>
    
            <label for="age">Mosha</label>
            <input list="ages" id="age" name="age" form="nameSurnameForm" required>
            <datalist id="ages">
                <option value="10-15">
                <option value="16-20">
                <option value="21-25">
                <option value="26-30">
                <option value="31-45">
                <option value="46-më shumë">
            </datalist><br><br>

            <label for="email">Emaili</label>
            <input type="email" id="email" name="email" required pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" title="Emaili duhet të ketë së paku një simbol." form="nameSurnameForm"><br><br>
    
        
            <label for="occupation">Profesioni</label>
            <input list="occupations" id="occupation" name="occupation" form="nameSurnameForm" required>
            <datalist id="occupations">
                <option value="Student">
                <option value="Inxhinier">
                    <option value="Mjek">
                    <option value="Avokat">
                    <option value="Mesues">
                    <option value="Artist">
                    <option value="Programues">
                    <option value="Dizajner grafik">
                    <option value="Bankier">
                    <option value="Arkitekt">
                    <option value="Punonjës social">
                    <option value="Biznesmen">
            
            </datalist><br><br>
    
            <button type="button" id="myButtoni" onclick="showAdditionalQuestions()">Next</button>
        </fieldset>
    </form>
    
    
    
    
    <form id="myForm" style="display:none;" onsubmit="return validateForm()" >
        <fieldset border="1" class="custom-fieldset" >
            <legend><b>Sa dini per astronomine?</b></legend>
    
        <label>&Ccedil;farë lloji planeti është Toka?</label><br>
  <input type="radio" id="planetiToka" name="planeti" value="planetiToka">
  <label for="planetiToka">Planet tokësor</label><br>

  <input type="radio" id="planetiGaz" name="planeti" value="planetiGaz">
  <label for="planetiGaz">Planet gazmore</label><br>

  <input type="radio" id="planetiRrumbullake" name="planeti" value="planetiRrumbullake">
  <label for="planetiRrumbullake">Planet rrumbullakë</label><br><br>

  <label>Çfarë forme ka Toka?</label><br>
  <input type="radio" id="spirale" name="galaktika" value="spirale">
  <label for="spirale">Të rrumbullakët</label><br>

  <input type="radio" id="elliptike" name="galaktika" value="elliptike">
  <label for="elliptike">Elipsoide</label><br>

  <input type="radio" id="nergjyrose" name="galaktika" value="nergjyrose">
  <label for="nergjyrose">Të rrafshët</label><br><br>

  <label>Çfarë është një kometë?</label><br>
  <input type="radio" id="kometeA" name="komete" value="kometeA">
  <label for="kometeA">Një trup qiellor që prodhon dritë dhe ngrohje</label><br>
  
  <input type="radio" id="kometeB" name="komete" value="kometeB">
  <label for="kometeB">Një trup qiellor me një brinjë të gjatë</label><br>
  
  <input type="radio" id="kometeC" name="komete" value="kometeC">
  <label for="kometeC">Një trup qiellor që përbëhet prej gazrave dhe pluhurove</label><br><br>

  <label>Si lind një yll?</label><br>
  <input type="radio" id="yllA" name="yll" value="yllA">
  <label for="yllA">Nga mbledhja e gazit dhe pluhurove në hapësirë</label><br>
  
  <input type="radio" id="yllB" name="yll" value="yllB">
  <label for="yllB">Nga ndezja e gazit në atmosferën e tokës</label><br>
  
  <input type="radio" id="yllC" name="yll" value="yllC">
  <label for="yllC">Nga eksplozioni i një asteroidi në hapësirë</label><br><br>

  <label>Sa planete janë në sistemin tonë diellor?</label><br>
  <input type="radio" id="SD-A" name="Sistemi" value="SD-A">
  <label for="SD-A">7</label><br>
  
  <input type="radio" id="SD-B" name="Sistemi" value="SD-B">
  <label for="SD-B">10</label><br>
  
  <input type="radio" id="SD-C" name="Sistemi" value="SD-C">
  <label for="SD-AC">8</label><br><br>

  <label>Cilat janë planetët e sistemit tonë diellor?</label><br>
  <input type="checkbox" id="planetA" name="planet1" value="planetA">
  <label for="planetA">Merkuri, Aferdita, Toka, Marsi, Jupiteri, Saturni, Urani, Neptuni</label><br>
  
  <input type="checkbox" id="planetB" name="planet2" value="planetB">
  <label for="planetB">Merkuri, Venera, Toka, Urani, Venusi, Marsi, Uranusi, Neptuni </label><br>
  
  <input type="checkbox" id="planetC" name="planet3" value="planetC">
  <label for="planetC">Venera, Marsi, Toka, Jupiteri, Merkuri, Saturni, Uranusi, Neptuni</label><br><br>

</fieldset>
      </form>
      <div id="rezultati"></div>

      <script>


function showAdditionalQuestions() {
    const firstName = document.getElementById('firstName').value.trim();
    const lastName = document.getElementById('lastName').value.trim();
    const email = document.getElementById('email').value.trim();

    const nameForm = document.getElementById('nameSurnameForm');
    const additionalQuestionsForm = document.getElementById('additionalQuestionsForm');

    if (firstName === '' || lastName === '') {
        alert("Të lutem sheno emrin dhe mbiemrin për të vazhduar tutje!");
    } else {
        nameForm.style.display = 'none';
        myForm.style.display = 'block';
        setTimeout(showResults, 10000); // Show results after 10 seconds
    }
}

function showResults() {
    const correctAnswers = {
        'planeti': 'planetiToka',
        'galaktika': 'elliptike',
        'komete': 'kometeB',
        'yll': 'yllC',
        'Sistemi': 'SD-C',
        'planets': ['planetA', 'planetC']
    };

    // Get submitted values for radio button questions
    const submittedAnswers = {
        'planeti': $("input[name='planeti']:checked").val(),
        'galaktika': $("input[name='galaktika']:checked").val(),
        'komete': $("input[name='komete']:checked").val(),
        'yll': $("input[name='yll']:checked").val(),
        'Sistemi': $("input[name='Sistemi']:checked").val(),
        'planets': [
            $("#planetA").prop("checked") ? 'planetA' : '',
            $("#planetC").prop("checked") ? 'planetC' : '',
            $("#planetB").prop("checked") ? 'planetB' : ''
        ]
    };

    // Check answers and count the number of correct answers
    let correctCount = 0;
    let index = 1;
    let resultHTML = "<strong>Rezultati juaj :</strong><br>";
    for (let question in correctAnswers) {
        if (question === 'planets') {
            const submitted = submittedAnswers['planets'].filter(Boolean);
            const correct = correctAnswers['planets'];
            if (submitted.length === correct.length && correct.every((val) => submitted.includes(val))) {
                resultHTML += `Pyetja ${index} është e saktë<br>`;
                correctCount++;
            } else {
                resultHTML += `Pyetja ${index} është e pasaktë<br>`;
            }
        } else {
            if (submittedAnswers[question] === correctAnswers[question]) {
                resultHTML += `Pyetja ${index} është e saktë<br>`;
                correctCount++;
            } else {
                resultHTML += `Pyetja ${index} është e pasaktë<br>`;
            }
        }
        index++;
    }

    resultHTML += `<br>Numri i pergjigjjeve të sakta: ${correctCount}`; // Display the count of correct answers
        $("#rezultati").html(resultHTML); // Display result
        $("#myForm").trigger("resetForm");
    // Hide the second form and display the first form again
    $("#myForm").hide();
    $("#nameSurnameForm").show()[0].reset();
}
    
      </script>
    
    
</body>
</html>